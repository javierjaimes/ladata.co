extends ../layouts/application
block before_start
  link(  rel="stylesheet", text="text/css", href="/static/stylesheets/application.css")

block content
  section
    .separator
      .line
      h2 Aplicaciones
      .line
    .clear
    #form.contact-form
      form( action="/clients/" + my_client.id, method="post")
        h1 Editar Aplicacion
        input( type="hidden", name="client[id]", value=my_client.id )
        fieldset(style="margin: 0 auto; float: none;")
          label(for="client[name]") Nombre *
          input(name="client[name]", value=my_client.name, type="text")
          label(for="client[description]") Descripcion *
          input(name="client[description]", value=my_client.description, type="text")
          label(for="client[url]") Website *
          input(name="client[url]", value=my_client.url, type="text")
          label(for="client[callback_url]") URL de redireccionamiento *
          input(name="client[callback_url]", value=my_client.callback_url, type="text")
        .clear
          fieldset.fsubmit(style="margin: 0 auto; float: none;")
            button#submit.btn.btn-primary.btn-submit( type="submit" ) Actualizar
block before_end
  script(src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js")
  script(src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js")
  script(src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/localization/messages_es.js")
  script.
    (function($){
      $( function(){
        $( '#form form' ).validate({
          errorElement: 'span',
          messages: {
            'client[iagree]': 'Debes aceptar los terminos y condiciones'
          },
          rules: {
            'client[name]': 'required',
            'client[description]': 'required',
            'client[url]': 'required',
            'client[callback_url]': 'required',
            'client[iagree]': 'required'
          }
        })
      }) 
    })( jQuery )
